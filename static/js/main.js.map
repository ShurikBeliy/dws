{"version":3,"file":"main.js","sources":["../typescript/app.ts","../typescript/config.ts","../typescript/control.ts","../typescript/main.ts"],"sourcesContent":["import {ControlElement} from './control'\n\nexport class App {\n  private control:Control = null;\n\n  constructor(control:Control){\n    this.control = control;\n  }\n\n  /* Run app */\n  public run() {\n    console.log('Run app.');\n    this.control.setFilterCallback(this.runFilterCallback);\n  }\n\n  private runFilterCallback(filters:Array<ControlElement>) {\n    console.log(filters);\n  }\n}\n","export const config = {\n\n  selector: { // our selectors for different elements\n    selector:'html',\n    filter: { // our selectors for filters\n      selector:'.filter',\n      input:{ // selectors for input wrapers element\n        selector:'.filter__input',\n        checkbox:{ // selector for checkbox\n          selector: '.checkbox',\n        }\n      }\n    }\n  },\n\n}\n","import {config} from './config'\nimport {CallbackOneParam} from './utils'\n\nexport class ControlElement {\n\n  private selector:string = null;\n  private element:HTMLElement = null;\n  private filterCallbackHandler:CallbackOneParam<Array<ControlElement>> = null;\n\n  constructor(selector?:string, element?:HTMLElement) {\n    this.selector = selector!;\n    this.element = element!;\n    this.init(this.selector);\n  }\n\n  public init(selector?:string){\n    this.selector = selector!;\n    if(this.selector != null)\n      this.element = document.querySelector(this.selector) as HTMLElement;\n  }\n\n  public getElement():HTMLElement {\n    return this.element;\n  }\n}\n\nclass CheckboxElement extends ControlElement {\n\n  public init(selector?:string){\n    super.init(selector!);\n    this.getValue();\n  }\n\n  public getValue(): string | number {\n    if( this.element != null )\n      return this.element.value;\n    return \"\";\n  }\n\n  public setValue(value: string | number) {\n    if( this.element != null )\n      this.element.value = value;\n  }\n}\n\nexport class Control {\n\n  private controlFilterElements: Array<ControlElement> = [];\n\n  constructor(){\n    this.init();\n  }\n\n  public init(){\n    this.controlFilterElements = this.initFilter();\n    this.listenFilter();\n  }\n\n  private initFilter():Array<ControlElement> {\n    const filterSelector:string = config.selector.filter.selector;\n    const checkboxSelector:string = config.selector.filter.input.checkbox.selector;\n    const chekboxElements:Array<HTMLElement> = document.querySelectorAll(`${filterSelector} ${checkboxSelector}`);\n    let filterElements:Array<CheckboxElement> = [];\n\n    for( let element of chekboxElements ) {\n      filterElements.push(new CheckboxElement(null, element));\n    }\n\n    return filterElements;\n  }\n\n  private listenFilter() {\n    for(const filter of this.controlFilterElements)\n      filter.getElement().addEventListener(\"change\", () => this.runFilterCallback());\n  }\n\n  private runFilterCallback() {\n    if(this.filterCallbackHandler != null)\n      this.filterCallbackHandler(this.controlFilterElements);\n  }\n\n  public setFilterCallback(callback: CallbackOneParam<Array<ControlElement>>) {\n    this.filterCallbackHandler = callback;\n  }\n}\n","import {App} from './app'\nimport {Control} from './control'\n\n((): void => {\n  const control:Control = new Control();\n  const app:App = new App(control);\n  app.run();\n})();\n"],"names":[],"mappings":"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"}